<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <style>
        body{
            width: 600px;
            margin:40px auto;
        }
    </style>
</head>

<body>
    <h3>javascript 常用的循环遍历方法总结</h3>
    <p>我想到的有涉及遍历的方法有以下几种</p>
    <ul>
        <li>for</li>
        <li>forEach</li>
        <li>map</li>
        <li>filter</li>
        <li>reduce</li>
        <li>some</li>
        <li>every</li>
        <li>in</li>
        <li>$(selector).each()</li>
        <li>$.each()</li>
    </ul>
    <h4>for</h4>
    <p>适用数组，需要知道数组长度</p>
    <pre>
        var arr=['李白','杜甫','王维','王勃','白居易']; 
        for(var i=0;i< arr.length;i++){ 
            console.log(arr[i]); 
        }
    </pre>
    <h4>forEach</h4>
    <p>让数组中的每个元素做每件事，适用数组，不需要知道数组长度，没有返回值</p>
    <pre>
        var arr=['李白','杜甫','王维','王勃','白居易'];
        arr.forEach(function(item,index){ 
            console.log(index+" 唐 * "+ item); 
        })
    </pre>
    <h4>map</h4>
    <p>让数组元素通过某个方法产生一个新数组，有返回值新数组</p>
    <pre>
        var arr=['李白','杜甫','王维','王勃','白居易'];
        var newArr=arr.map(function(item,index){ 
            return index+ item + '出生于唐朝';
        })
        console.log(newArr);
    </pre>

    <h4>filter</h4>
    <p>让数组元素通过计算产生一个新数组，有返回值新数组</p>
    <pre>
        var arr=['李白','杜甫','王维','王勃','白居易'];
        var newArr = arr.filter(function (item, index) {
            return item.length < 3;
        }) 
        console.log(newArr);
    </pre>

    <h4>reduce</h4>
    <p> reduce()方法接收一个函数callbackfn作为累加器，数组中的每个值（从左到右）开始合并，最终为一个值。
    </p>
    <pre>
        array.reduce(callbackfn,[initialValue])
        function callbackfn(preValue,curValue,index,array){}
        var ary=[1,3,4,6,9]; 
        var result=ary.reduce(function(prev,curv,curindex,ary){ 
            console.log(prev); 
            console.log(curv); 
            console.log(curindex); //注意如果reduce带参数，curindex 从0 开始计数，否则从1开始计数 
            console.log(ary); 
            return prev+curv; 
        },100); 
        console.log(ary) 
        console.log(result)
    </pre>

    <h4>every</h4>
    <p>检测数组中每一项是否符合某个条件，返回布尔值</p>
    <pre>
        var ary=[1,3,4,6,9];
        var bool = ary.every(function (item, index) {
            return item > 3; 
        }) 
        console.log(bool);
    </pre>
    <h4>some</h4>
    <p>检测数组中是否有某一项符合某个条件，返回布尔值</p>
    <pre>
        var ary=[1,3,4,6,9];
        var bool = ary.some(function (item, index) { 
            return item > 3;
        }) 
        console.log(bool);
    </pre>

    <h4> for in </h4>
    <p>for in for(var item in arr|obj){} 可以用于遍历数组和对象</p>
    <pre>
        // for in 遍历数组时,'变量'指的是索引 
        for(var index in ary){ 
            console.log(index +'-------'+ ary[index]); 
        }
        var user={ 
            name:'superhan',
            age:'28', 
            sex:'boy' 
        } 
        // for in 遍历对象,'变量'指的是属性 
        for(key in user){ 
            console.log(key+ "+++" + user[key]); 
            // 注意此处 只能用 user[key],不能用 user.key
        }
        // in 可以判断属性是否在对象中 let res= name in user; 
            console.log(res);
    </pre>

    <h4>jq  的each方法</h4>
    <p>$(selector).each(function(index,element))</p>
    <pre>
        $(selector).each(function(index,element){

        })
        index - 选择器的 index 位置 
        element - 当前的元素（也可使用 "this" 选择器）
    </pre>
    <h4>jq的 $.each()方法</h4>
    <p>$.each(arr,function(index,value){});</p>
    <pre>
        $.each(["a","b","c"],function(index,value){
            alert(index+"..."+value);
        });
    </pre>

</body>
<script src="http://apps.bdimg.com/libs/jquery/2.1.4/jquery.js"></script>
<script>
    var arr = ['李白', '杜甫', '王维', '王勃', '白居易'];
    for (var i = 0; i < arr.length; i++) {
        console.log(arr[i]);
    }

    arr.forEach(function (item, index) {
        console.log(index + "唐*" + item);
    })

    var newArr = arr.map(function (item, index) {
        return index + item + '出生于唐朝';
    })
    console.log(newArr);

    var newArr = arr.filter(function (item, index) {
        return item.length < 3;
    })
    console.log(newArr);

    var ary = [1, 3, 4, 6, 9];
    var result = ary.reduce(function (prev, curv, curindex, ary) {
        console.log(prev);
        console.log(curv);
        console.log(curindex); // 注意如果reduce带参数，curindex 从0 开始计数，否则从1开始计数
        // console.log(ary);
        return prev + curv;
    }, 100);
    console.log(ary)
    console.log(result)

    var bool = ary.every(function (item, index) {
        return item > 3;
    })
    console.log(bool);

    var bool = ary.some(function (item, index) {
        return item > 3;
    })
    console.log(bool);

    // for in  遍历数组时,'变量'指的是索引
    for(var index in ary){
        console.log(index +'-------'+ ary[index]);
    }
    var user={
            name:'superhan',
            age:'28',
            sex:'boy'
        }
  
    // for in 遍历对象,'变量'指的是属性
    for(key in user){
        console.log(key +'----' + user[key]);// 注意此处 只能用 user[key],不能用 user.key
    }
    // in 可以判断属性是否在对象中
    let res= name in user;
    console.log(res);
    
    // jq each 方法
    $("ul li").each(function(index,item){
        console.log(index+"-----"+item.innerHTML);
    })


    // jq 的遍历方法 $.each()   注意 index,value  和别的方法参数位置不一样
    $.each(['金钱','美女'],function(index,value){
        console.log(index +"----- "+ value)
    })
</script>

</html>